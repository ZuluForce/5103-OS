<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>5103 Project 1: cCPU Class Reference</title>

<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />

<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">5103 Project 1
   
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="../../annotated.html"><span>Classes</span></a></li>
      <li><a href="../../files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="../../classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="../../inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="../../functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a>  </div>
  <div class="headertitle">
<div class="title">cCPU Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<!-- doxytag: class="cCPU" -->
<p><code>#include &lt;<a class="el" href="../../dc/da7/cpu_8h_source.html">cpu.h</a>&gt;</code></p>

<p><a href="../../da/de6/classcCPU-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dc6/classcCPU.html#acd957640be8abb7c0d8a24010ed0e737">setText</a> (char *text)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dc6/classcCPU.html#ab04938ac939d530e521181db6a52944f">getSetPC</a> (unsigned int newPC)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dc6/classcCPU.html#a2d593a0d3d66e532826db4754d5fc4d2">getSetVC</a> (int newVC)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dc6/classcCPU.html#ad485374a709476e2dfb847046d3d5215">getPSW</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dc6/classcCPU.html#a891d9b77e1818ca247e9d76f4db99415">getParam</a> (int num)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dc6/classcCPU.html#a987e1ab511c71dcde48411f5bb16f9d8">getOpcode</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dc6/classcCPU.html#aee300d68026ba9f13d5434ff82f0372a">run</a> ()</td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>A class for emulating a simple cpu.</p>
<p>This class emulates the internals of a very simple cpu with two main registers, PC and VC. In addition, it has other state for handling system calls and program exceptions. </p>
</div><hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a987e1ab511c71dcde48411f5bb16f9d8"></a><!-- doxytag: member="cCPU::getOpcode" ref="a987e1ab511c71dcde48411f5bb16f9d8" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char <a class="el" href="../../d2/dc6/classcCPU.html#a987e1ab511c71dcde48411f5bb16f9d8">cCPU::getOpcode</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Get the current Opcode</p>
<p>Get the current Opcode in the cpu. This is used by the kernel to determine which system call as being made. Used in conjunciton with <a class="el" href="../../d2/dc6/classcCPU.html#a891d9b77e1818ca247e9d76f4db99415">cCPU::getParam</a> the kernel can process system calls. </p>

</div>
</div>
<a class="anchor" id="a891d9b77e1818ca247e9d76f4db99415"></a><!-- doxytag: member="cCPU::getParam" ref="a891d9b77e1818ca247e9d76f4db99415" args="(int num)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char * <a class="el" href="../../d2/dc6/classcCPU.html#a891d9b77e1818ca247e9d76f4db99415">cCPU::getParam</a> </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>num</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Get execution parameters from the cpu</p>
<p>Fetch the given execution paramter from the cpu's internal buffer. When an instruction is encountered that has parameters associated with it, the cpu tokenizes them and places it in an internal buffer. This function is mainly used by the kernel in handling system calls.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">num</td><td>Must be less than MAX_PARAMS (currently 2)</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Returns a char* which points to a string of at most MAX_PARAM_SIZE - 1 bytes. </dd></dl>

</div>
</div>
<a class="anchor" id="ad485374a709476e2dfb847046d3d5215"></a><!-- doxytag: member="cCPU::getPSW" ref="ad485374a709476e2dfb847046d3d5215" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t <a class="el" href="../../d2/dc6/classcCPU.html#ad485374a709476e2dfb847046d3d5215">cCPU::getPSW</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Get the Program Status Word</p>
<p>Returns the program status word which is a unsigned 16-bit integer type with flags from <a class="el" href="../../dc/da7/cpu_8h.html#ade10811b11f1c647313bf0a60797a9f9">ePSW</a> set. These are used by the kernel to make action decisions. </p>

</div>
</div>
<a class="anchor" id="ab04938ac939d530e521181db6a52944f"></a><!-- doxytag: member="cCPU::getSetPC" ref="ab04938ac939d530e521181db6a52944f" args="(unsigned int newPC)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int <a class="el" href="../../d2/dc6/classcCPU.html#ab04938ac939d530e521181db6a52944f">cCPU::getSetPC</a> </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>newPC</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Get/Set the program counter</p>
<p>Get the current value for the program counter and then set its value to the given parameter. This is useful for swapping out process values. </p>

</div>
</div>
<a class="anchor" id="a2d593a0d3d66e532826db4754d5fc4d2"></a><!-- doxytag: member="cCPU::getSetVC" ref="a2d593a0d3d66e532826db4754d5fc4d2" args="(int newVC)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="../../d2/dc6/classcCPU.html#a2d593a0d3d66e532826db4754d5fc4d2">cCPU::getSetVC</a> </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>newVC</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Get/Set the VC</p>
<p>Get the current value for VC and set its value to the given paramter. This is useful for swapping out process values. </p>

</div>
</div>
<a class="anchor" id="aee300d68026ba9f13d5434ff82f0372a"></a><!-- doxytag: member="cCPU::run" ref="aee300d68026ba9f13d5434ff82f0372a" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="../../d2/dc6/classcCPU.html#aee300d68026ba9f13d5434ff82f0372a">cCPU::run</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Start execution</p>
<p>Once all appropriate process data is entered by the kernel this function is called to start execution. Any time control needs to be returned to the kernel this function will return with the appropriate PSW flags set for the kernel to act on. </p>

</div>
</div>
<a class="anchor" id="acd957640be8abb7c0d8a24010ed0e737"></a><!-- doxytag: member="cCPU::setText" ref="acd957640be8abb7c0d8a24010ed0e737" args="(char *text)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="../../d2/dc6/classcCPU.html#acd957640be8abb7c0d8a24010ed0e737">cCPU::setText</a> </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>text</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Set the program text</p>
<p>Point the cpu to the text data for the running process. This text is indexed using the program counter (PC).</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">text</td><td>Program text pointer. assert( text != NULL) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>include/<a class="el" href="../../dc/da7/cpu_8h_source.html">cpu.h</a></li>
<li>src/cpu.cpp</li>
</ul>
</div><!-- contents -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>



<hr class="footer"/><address class="footer"><small>
Generated on Sat Feb 11 2012 14:08:01 for 5103 Project 1 by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.7.6.1
</small></address>

</body>
</html>
