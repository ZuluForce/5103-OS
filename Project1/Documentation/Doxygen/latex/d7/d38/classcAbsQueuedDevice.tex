\hypertarget{classcAbsQueuedDevice}{\section{c\-Abs\-Queued\-Device \-Class \-Reference}
\label{d7/d38/classcAbsQueuedDevice}\index{c\-Abs\-Queued\-Device@{c\-Abs\-Queued\-Device}}
}


\-Abstract class for a device which queues requests.  




{\ttfamily \#include $<$queued\-\_\-device.\-h$>$}



\-Inheritance diagram for c\-Abs\-Queued\-Device\-:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=249pt]{d3/d40/classcAbsQueuedDevice__inherit__graph}
\end{center}
\end{figure}
\subsection*{\-Public \-Member \-Functions}
\begin{DoxyCompactItemize}
\item 
virtual void \hyperlink{classcAbsQueuedDevice_a57ab7f649c2c40034212627b78476908}{set\-Default\-Time} (int usec)=0
\begin{DoxyCompactList}\small\item\em \-Set the default timer length for this device. \end{DoxyCompactList}\item 
virtual void \hyperlink{classcAbsQueuedDevice_a529f1c7576d9ec9b87c1d2eb6758c215}{schedule\-Device} (\hyperlink{structProcessInfo}{\-Process\-Info} $\ast$)=0
\begin{DoxyCompactList}\small\item\em \-Schedule a process for a device interrupt. \end{DoxyCompactList}\item 
virtual \hyperlink{structProcessInfo}{\-Process\-Info} $\ast$ \hyperlink{classcAbsQueuedDevice_a98e8fefe9ef8823c854c6769ab1bef55}{timer\-Finished} ()=0
\begin{DoxyCompactList}\small\item\em \-Called when a device timer has gone off. \end{DoxyCompactList}\item 
\hypertarget{classcAbsQueuedDevice_a7b8ef5b9ab48a84342b7da9df9a4bda3}{virtual int \hyperlink{classcAbsQueuedDevice_a7b8ef5b9ab48a84342b7da9df9a4bda3}{queue\-Length} ()=0}\label{d7/d38/classcAbsQueuedDevice_a7b8ef5b9ab48a84342b7da9df9a4bda3}

\begin{DoxyCompactList}\small\item\em \-Returns the number of devices waiting on the device. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{\-Member \-Function \-Documentation}
\hypertarget{classcAbsQueuedDevice_a529f1c7576d9ec9b87c1d2eb6758c215}{\index{c\-Abs\-Queued\-Device@{c\-Abs\-Queued\-Device}!schedule\-Device@{schedule\-Device}}
\index{schedule\-Device@{schedule\-Device}!cAbsQueuedDevice@{c\-Abs\-Queued\-Device}}
\subsubsection[{schedule\-Device}]{\setlength{\rightskip}{0pt plus 5cm}void {\bf c\-Abs\-Queued\-Device\-::schedule\-Device} (
\begin{DoxyParamCaption}
\item[{{\bf \-Process\-Info} $\ast$}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}pure virtual\mbox{]}}}}\label{d7/d38/classcAbsQueuedDevice_a529f1c7576d9ec9b87c1d2eb6758c215}
\-If there are no other waiting processes then schedule the interrupt. \-If there is a pending interrupt then queue the process.


\begin{DoxyParams}{\-Parameters}
{\em \-Process\-Info$\ast$} & \-Process that wants to block on the device. \-This must be saved and returned to the kernel when its interrupt has been received.\\
\hline
\end{DoxyParams}
\begin{DoxyWarning}{\-Warning}
\-This must be synchronized with \hyperlink{classcAbsQueuedDevice_a98e8fefe9ef8823c854c6769ab1bef55}{timer\-Finished} because signal handlers will cause these methods to be called asynchronously. 
\end{DoxyWarning}


\-Implemented in \hyperlink{classcCharDevice_a8378acae0c295100795877bc316fe1a5}{c\-Char\-Device}, and \hyperlink{classcBlockDevice_a2b1bae22bb9474fb140faefc1bed6525}{c\-Block\-Device}.

\hypertarget{classcAbsQueuedDevice_a57ab7f649c2c40034212627b78476908}{\index{c\-Abs\-Queued\-Device@{c\-Abs\-Queued\-Device}!set\-Default\-Time@{set\-Default\-Time}}
\index{set\-Default\-Time@{set\-Default\-Time}!cAbsQueuedDevice@{c\-Abs\-Queued\-Device}}
\subsubsection[{set\-Default\-Time}]{\setlength{\rightskip}{0pt plus 5cm}void {\bf c\-Abs\-Queued\-Device\-::set\-Default\-Time} (
\begin{DoxyParamCaption}
\item[{int}]{usec}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}pure virtual\mbox{]}}}}\label{d7/d38/classcAbsQueuedDevice_a57ab7f649c2c40034212627b78476908}
\-Subsequent calls to schedule the device for a process should use this default time. \-This is convenience function. \-A class defined default can be defined statically or in the constructor.


\begin{DoxyParams}{\-Parameters}
{\em int} & usec default microsecond length for device timer. \\
\hline
\end{DoxyParams}


\-Implemented in \hyperlink{classcCharDevice_a62b7bd4cb53a35f70798ec18d0340c1e}{c\-Char\-Device}, and \hyperlink{classcBlockDevice_ab6daadb251c1c59aca70bdc1f73fcb62}{c\-Block\-Device}.

\hypertarget{classcAbsQueuedDevice_a98e8fefe9ef8823c854c6769ab1bef55}{\index{c\-Abs\-Queued\-Device@{c\-Abs\-Queued\-Device}!timer\-Finished@{timer\-Finished}}
\index{timer\-Finished@{timer\-Finished}!cAbsQueuedDevice@{c\-Abs\-Queued\-Device}}
\subsubsection[{timer\-Finished}]{\setlength{\rightskip}{0pt plus 5cm}{\bf \-Process\-Info} $\ast$ {\bf c\-Abs\-Queued\-Device\-::timer\-Finished} (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}pure virtual\mbox{]}}}}\label{d7/d38/classcAbsQueuedDevice_a98e8fefe9ef8823c854c6769ab1bef55}
\-The signal handler in the kernel will call this method when a device's timer has completed. \-The method should then return the waiting process and then schedule an interrupt for the next device queued, if any.

\begin{DoxyReturn}{\-Returns}
\-Process\-Info$\ast$ \-Process that was waiting for the device \-I/\-O to complete. \-It will now be unblocked by the kernel/scheduler.
\end{DoxyReturn}
\begin{DoxyWarning}{\-Warning}
\-Must be synchronized with \hyperlink{classcAbsQueuedDevice_a529f1c7576d9ec9b87c1d2eb6758c215}{schedule\-Device}. \-Failing to do so could leave a process blocked indefinitely. 
\end{DoxyWarning}


\-Implemented in \hyperlink{classcCharDevice_a5d3c8f17cda6545aa1ddf6489c720168}{c\-Char\-Device}, and \hyperlink{classcBlockDevice_a65f11097ece15c840c15aa7e6086d94d}{c\-Block\-Device}.



\-The documentation for this class was generated from the following file\-:\begin{DoxyCompactItemize}
\item 
include/devices/\hyperlink{queued__device_8h}{queued\-\_\-device.\-h}\end{DoxyCompactItemize}
