\hypertarget{classcCPU}{\section{c\-C\-P\-U \-Class \-Reference}
\label{d2/dc6/classcCPU}\index{c\-C\-P\-U@{c\-C\-P\-U}}
}


\-Very \-Simple \-C\-P\-U.  




{\ttfamily \#include $<$cpu.\-h$>$}



\-Collaboration diagram for c\-C\-P\-U\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d9/d80/classcCPU__coll__graph}
\end{center}
\end{figure}
\subsection*{\-Public \-Member \-Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{classcCPU_a2a76a12433bce75b45c7b0f5b1eb9e0c}{add\-V\-C} (int $\ast$\-V\-C)
\begin{DoxyCompactList}\small\item\em \-Give the cpu a reference to the core's \-V\-C. \end{DoxyCompactList}\item 
void \hyperlink{classcCPU_abbc235250416bd5bcba0630617988bb4}{switch\-Proc} (\hyperlink{structsProc}{s\-Proc} $\ast$)
\begin{DoxyCompactList}\small\item\em \-Context switch for this process. \end{DoxyCompactList}\item 
uint32\-\_\-t \hyperlink{classcCPU_a37f4ab4a93668da37be34f8d4d77a339}{get\-Fault\-Page} ()
\begin{DoxyCompactList}\small\item\em \-Get the page number that faulted. \end{DoxyCompactList}\item 
uint8\-\_\-t \hyperlink{classcCPU_a68467fbd50317a9495765606d2f7d4b1}{run} ()
\begin{DoxyCompactList}\small\item\em \-Start executing the current process. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{\-Private \-Member \-Functions}
\begin{DoxyCompactItemize}
\item 
\hypertarget{classcCPU_ab73f6117d304d13ae734c512b8cbfad9}{void \hyperlink{classcCPU_ab73f6117d304d13ae734c512b8cbfad9}{inc\-V\-C} (int amnt)}\label{d2/dc6/classcCPU_ab73f6117d304d13ae734c512b8cbfad9}

\begin{DoxyCompactList}\small\item\em \-Increment the \-V\-C and print its value to trace file. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{\-Private \-Attributes}
\begin{DoxyCompactItemize}
\item 
\hypertarget{classcCPU_ac90262505cb425f05fd4555d628087ce}{\hyperlink{structsProc}{s\-Proc} $\ast$ {\bfseries cur\-Proc}}\label{d2/dc6/classcCPU_ac90262505cb425f05fd4555d628087ce}

\item 
\hypertarget{classcCPU_a7456c22a188891b9cba25954fe9c4137}{\hyperlink{classcMMU}{c\-M\-M\-U} {\bfseries mmu}}\label{d2/dc6/classcCPU_a7456c22a188891b9cba25954fe9c4137}

\item 
\hypertarget{classcCPU_a4bd0f722584edc32b505ff2a32c3ece1}{string {\bfseries op\-Code}}\label{d2/dc6/classcCPU_a4bd0f722584edc32b505ff2a32c3ece1}

\item 
\hypertarget{classcCPU_ada686dcf108f6501eda61c66de5c31db}{string {\bfseries addr}}\label{d2/dc6/classcCPU_ada686dcf108f6501eda61c66de5c31db}

\item 
\hypertarget{classcCPU_aab0009c65e70140c756837e32f445383}{int {\bfseries instr\-\_\-time}}\label{d2/dc6/classcCPU_aab0009c65e70140c756837e32f445383}

\item 
\hypertarget{classcCPU_a9843a71609c0c528df48e0b4c00000d7}{int {\bfseries cs\-\_\-time}}\label{d2/dc6/classcCPU_a9843a71609c0c528df48e0b4c00000d7}

\item 
\hypertarget{classcCPU_a97ad9f8d152ebd5140c4afcc1cfe8117}{int {\bfseries quanta}}\label{d2/dc6/classcCPU_a97ad9f8d152ebd5140c4afcc1cfe8117}

\item 
\hypertarget{classcCPU_ade969335c04f26cee3ab5ea511242a5f}{int $\ast$ {\bfseries \-V\-C}}\label{d2/dc6/classcCPU_ade969335c04f26cee3ab5ea511242a5f}

\end{DoxyCompactItemize}


\subsection{\-Detailed \-Description}
\-This cpu is only used to abstract the actual reading/execution of the programs and the use of the \-M\-M\-U. \-This cpu is not meant to mimic the functionality of the cpu from the first project. 

\subsection{\-Member \-Function \-Documentation}
\hypertarget{classcCPU_a2a76a12433bce75b45c7b0f5b1eb9e0c}{\index{c\-C\-P\-U@{c\-C\-P\-U}!add\-V\-C@{add\-V\-C}}
\index{add\-V\-C@{add\-V\-C}!cCPU@{c\-C\-P\-U}}
\subsubsection[{add\-V\-C}]{\setlength{\rightskip}{0pt plus 5cm}{\bf c\-C\-P\-U\-::add\-V\-C} (
\begin{DoxyParamCaption}
\item[{int $\ast$}]{\-V\-C}
\end{DoxyParamCaption}
)}}\label{d2/dc6/classcCPU_a2a76a12433bce75b45c7b0f5b1eb9e0c}
\-The \-V\-M\-M core calls this to provide a reference to the \-V\-C so the cpu can update it appropriately. \-This makes it easier than having some back and forth time management between the two systems. 

\-Referenced by c\-V\-M\-M\-::c\-V\-M\-M().

\hypertarget{classcCPU_a37f4ab4a93668da37be34f8d4d77a339}{\index{c\-C\-P\-U@{c\-C\-P\-U}!get\-Fault\-Page@{get\-Fault\-Page}}
\index{get\-Fault\-Page@{get\-Fault\-Page}!cCPU@{c\-C\-P\-U}}
\subsubsection[{get\-Fault\-Page}]{\setlength{\rightskip}{0pt plus 5cm}{\bf c\-C\-P\-U\-::get\-Fault\-Page} (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{d2/dc6/classcCPU_a37f4ab4a93668da37be34f8d4d77a339}
\-On a page fault the \-V\-M\-M core will queury here to find out which page needs to be brough in. \-This function simply calls the mmu for this information. 

\-Referenced by c\-V\-M\-M\-::start().

\hypertarget{classcCPU_a68467fbd50317a9495765606d2f7d4b1}{\index{c\-C\-P\-U@{c\-C\-P\-U}!run@{run}}
\index{run@{run}!cCPU@{c\-C\-P\-U}}
\subsubsection[{run}]{\setlength{\rightskip}{0pt plus 5cm}{\bf c\-C\-P\-U\-::run} (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{d2/dc6/classcCPU_a68467fbd50317a9495765606d2f7d4b1}
\-Once a process has been switched onto the cpu this is called to start execution. \-The process executes for the quanta specified in the .ini file/s. \-If the process page faults before this quanta it returns with a special staus code. 

\-Referenced by c\-V\-M\-M\-::start().

\hypertarget{classcCPU_abbc235250416bd5bcba0630617988bb4}{\index{c\-C\-P\-U@{c\-C\-P\-U}!switch\-Proc@{switch\-Proc}}
\index{switch\-Proc@{switch\-Proc}!cCPU@{c\-C\-P\-U}}
\subsubsection[{switch\-Proc}]{\setlength{\rightskip}{0pt plus 5cm}{\bf c\-C\-P\-U\-::switch\-Proc} (
\begin{DoxyParamCaption}
\item[{{\bf s\-Proc} $\ast$}]{new\-Proc}
\end{DoxyParamCaption}
)}}\label{d2/dc6/classcCPU_abbc235250416bd5bcba0630617988bb4}
\-There are a couple scenarios to consider here\-: \begin{DoxyItemize}
\item parameter = \-N\-U\-L\-L -\/ \-Do \-Nothing\end{DoxyItemize}
\begin{DoxyItemize}
\item cur\-Proc=\-N\-U\-L\-L \-Switches process \-Flushes \-T\-L\-B (\-Not really necessary but make sure) \-Set \-P\-T\-B\-R in \-M\-M\-U\end{DoxyItemize}
\begin{DoxyItemize}
\item cur\-Proc!=\-N\-U\-L\-L \-Increment \-C\-S count for cur\-Proc \-Flush \-T\-L\-B \-Set \-P\-T\-B\-R for new proc \-Increment the \-V\-C by the cs\-\_\-switch time (default 5) \end{DoxyItemize}


\-Referenced by c\-V\-M\-M\-::start().



\-The documentation for this class was generated from the following files\-:\begin{DoxyCompactItemize}
\item 
include/\hyperlink{cpu_8h}{cpu.\-h}\item 
src/cpu.\-cpp\end{DoxyCompactItemize}
