\hypertarget{classcPRPolicy}{\section{c\-P\-R\-Policy \-Class \-Reference}
\label{d7/df0/classcPRPolicy}\index{c\-P\-R\-Policy@{c\-P\-R\-Policy}}
}


\-Abstract \-Page \-Replacement \-Policy.  




{\ttfamily \#include $<$page\-Replace.\-h$>$}



\-Inheritance diagram for c\-P\-R\-Policy\-:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=299pt]{d6/d74/classcPRPolicy__inherit__graph}
\end{center}
\end{figure}
\subsection*{\-Public \-Member \-Functions}
\begin{DoxyCompactItemize}
\item 
\hypertarget{classcPRPolicy_ad100e742a4a0442512c1196d657e4b28}{{\bfseries c\-P\-R\-Policy} (\hyperlink{classcFrameAllocPolicy}{c\-Frame\-Alloc\-Policy} \&)}\label{d7/df0/classcPRPolicy_ad100e742a4a0442512c1196d657e4b28}

\item 
virtual const char $\ast$ \hyperlink{classcPRPolicy_ad0de8c0c77f8d2ecb1f5679f0c25b5be}{name} ()=0
\begin{DoxyCompactList}\small\item\em \-Name of \-P\-R module. \end{DoxyCompactList}\item 
virtual \hyperlink{pageReplace_8h_af4bc4c41a44c2bd80e8cbf1aae370217}{e\-P\-R\-Status} \hyperlink{classcPRPolicy_aae8a15e6e99ec90d54210fc4d4ddf211}{resolve\-Page\-Fault} (\hyperlink{structsProc}{s\-Proc} $\ast$proc, uint32\-\_\-t page)=0
\begin{DoxyCompactList}\small\item\em \-Get a page frame for this process. \end{DoxyCompactList}\item 
\hypertarget{classcPRPolicy_a21eaa5302ec87c7643eb2c0d0f65f5cf}{\hyperlink{pageReplace_8h_af4bc4c41a44c2bd80e8cbf1aae370217}{e\-P\-R\-Status} {\bfseries resolve\-Circular\-P\-F} (\hyperlink{structsProc}{s\-Proc} $\ast$proc, uint32\-\_\-t page)}\label{d7/df0/classcPRPolicy_a21eaa5302ec87c7643eb2c0d0f65f5cf}

\item 
virtual void \hyperlink{classcPRPolicy_adfe4408f052b6ec414331ba1bafc736b}{finished\-Quanta} (\hyperlink{structsProc}{s\-Proc} $\ast$)=0
\begin{DoxyCompactList}\small\item\em \-This is called after an execution quanta finishes. \end{DoxyCompactList}\item 
virtual void \hyperlink{classcPRPolicy_a169fb952830fa103a72a1cd223ac081f}{finished\-I\-O} (\hyperlink{structsProc}{s\-Proc} $\ast$, \hyperlink{structsPTE}{s\-P\-T\-E} $\ast$)=0
\begin{DoxyCompactList}\small\item\em \-This is called after an \-I/\-O (input) completes. \end{DoxyCompactList}\item 
virtual bool \hyperlink{classcPRPolicy_a7a2b6d5761963a69d20794579d39530f}{clear\-Pages} (int num\-Pages)=0
\begin{DoxyCompactList}\small\item\em \-Remove this many pages from memory. \end{DoxyCompactList}\item 
\hypertarget{classcPRPolicy_a8ef7dce4fcf989f6aa212920055fa4bb}{virtual void \hyperlink{classcPRPolicy_a8ef7dce4fcf989f6aa212920055fa4bb}{unpin\-Frame} (uint32\-\_\-t frame)=0}\label{d7/df0/classcPRPolicy_a8ef7dce4fcf989f6aa212920055fa4bb}

\begin{DoxyCompactList}\small\item\em \-This is typically called after \-::finished\-I\-O so that the \-P\-R module unpins the frame in the frame allocation module. \end{DoxyCompactList}\item 
virtual void \hyperlink{classcPRPolicy_ac78fc5c56b8f485eb18f6f36968612f1}{return\-Frame} (uint32\-\_\-t frame)=0
\begin{DoxyCompactList}\small\item\em \-Return this frame to the system. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{\-Member \-Function \-Documentation}
\hypertarget{classcPRPolicy_a7a2b6d5761963a69d20794579d39530f}{\index{c\-P\-R\-Policy@{c\-P\-R\-Policy}!clear\-Pages@{clear\-Pages}}
\index{clear\-Pages@{clear\-Pages}!cPRPolicy@{c\-P\-R\-Policy}}
\subsubsection[{clear\-Pages}]{\setlength{\rightskip}{0pt plus 5cm}{\bf c\-P\-R\-Policy\-::clear\-Pages} (
\begin{DoxyParamCaption}
\item[{int}]{num\-Pages}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}pure virtual\mbox{]}}}}\label{d7/df0/classcPRPolicy_a7a2b6d5761963a69d20794579d39530f}
\-If the cleaning daemon decides that pages need to be cleaned it will determine how many from its policy and call the \-P\-R module to clean that many. \-This method keeps the \-P\-R policy separate from the decision on how many pages to clean and when.


\begin{DoxyParams}{\-Parameters}
{\em int} & \-Number of pages to clear. \\
\hline
\end{DoxyParams}


\-Implemented in \hyperlink{classcPRLru_ae74d5e116ffad469d9f6417034f4b0d6}{c\-P\-R\-Lru}, \hyperlink{classcPRLruApprox_a7b1d7330af067ad28c089fb7a6267c00}{c\-P\-R\-Lru\-Approx}, and \hyperlink{classcPRFifo_ab2bca492cfd0a628df492781ecd726ff}{c\-P\-R\-Fifo}.



\-Referenced by c\-V\-M\-M\-::start().

\hypertarget{classcPRPolicy_a169fb952830fa103a72a1cd223ac081f}{\index{c\-P\-R\-Policy@{c\-P\-R\-Policy}!finished\-I\-O@{finished\-I\-O}}
\index{finished\-I\-O@{finished\-I\-O}!cPRPolicy@{c\-P\-R\-Policy}}
\subsubsection[{finished\-I\-O}]{\setlength{\rightskip}{0pt plus 5cm}{\bf c\-P\-R\-Policy\-::finished\-I\-O} (
\begin{DoxyParamCaption}
\item[{{\bf s\-Proc} $\ast$}]{, }
\item[{{\bf s\-P\-T\-E} $\ast$}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}pure virtual\mbox{]}}}}\label{d7/df0/classcPRPolicy_a169fb952830fa103a72a1cd223ac081f}
\-This is another notification point for the \-P\-R module to update its data structs. 

\-Implemented in \hyperlink{classcPRLru_a003230ac7e50911cfa74808ffeefa658}{c\-P\-R\-Lru}, \hyperlink{classcPRLruApprox_a93c48941ed2511000566bb3d24cf8313}{c\-P\-R\-Lru\-Approx}, and \hyperlink{classcPRFifo_a158824c0cf38fa23a14f7148431bc34d}{c\-P\-R\-Fifo}.



\-Referenced by c\-V\-M\-M\-::start().

\hypertarget{classcPRPolicy_adfe4408f052b6ec414331ba1bafc736b}{\index{c\-P\-R\-Policy@{c\-P\-R\-Policy}!finished\-Quanta@{finished\-Quanta}}
\index{finished\-Quanta@{finished\-Quanta}!cPRPolicy@{c\-P\-R\-Policy}}
\subsubsection[{finished\-Quanta}]{\setlength{\rightskip}{0pt plus 5cm}{\bf c\-P\-R\-Policy\-::finished\-Quanta} (
\begin{DoxyParamCaption}
\item[{{\bf s\-Proc} $\ast$}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}pure virtual\mbox{]}}}}\label{d7/df0/classcPRPolicy_adfe4408f052b6ec414331ba1bafc736b}
\-This gives the \-P\-R module a chance to update its internal data-\/structures using the reference bits or any other data available from the process struct. 

\-Implemented in \hyperlink{classcPRLru_a9e0bb304978dddc8342a5b9445c091b6}{c\-P\-R\-Lru}, \hyperlink{classcPRLruApprox_aaf6600b3edb01fbbb0257f622b3fb1ec}{c\-P\-R\-Lru\-Approx}, and \hyperlink{classcPRFifo_aadb8319e6e539280e0f56c0e6b40c581}{c\-P\-R\-Fifo}.



\-Referenced by c\-V\-M\-M\-::start().

\hypertarget{classcPRPolicy_ad0de8c0c77f8d2ecb1f5679f0c25b5be}{\index{c\-P\-R\-Policy@{c\-P\-R\-Policy}!name@{name}}
\index{name@{name}!cPRPolicy@{c\-P\-R\-Policy}}
\subsubsection[{name}]{\setlength{\rightskip}{0pt plus 5cm}virtual const char$\ast$ {\bf c\-P\-R\-Policy\-::name} (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}pure virtual\mbox{]}}}}\label{d7/df0/classcPRPolicy_ad0de8c0c77f8d2ecb1f5679f0c25b5be}
\-This is only used for logging purposes so that the \-P\-R module can be easily identified. 

\-Implemented in \hyperlink{classcPRLruApprox_acf51ca9d36ab017456f856809e13dab7}{c\-P\-R\-Lru\-Approx}, \hyperlink{classcPRLru_aec12730888e052c697b43ed8aca4b8a6}{c\-P\-R\-Lru}, and \hyperlink{classcPRFifo_aa3b9269589ccebd364d07ef69015bad6}{c\-P\-R\-Fifo}.



\-Referenced by c\-V\-M\-M\-::print\-Results().

\hypertarget{classcPRPolicy_aae8a15e6e99ec90d54210fc4d4ddf211}{\index{c\-P\-R\-Policy@{c\-P\-R\-Policy}!resolve\-Page\-Fault@{resolve\-Page\-Fault}}
\index{resolve\-Page\-Fault@{resolve\-Page\-Fault}!cPRPolicy@{c\-P\-R\-Policy}}
\subsubsection[{resolve\-Page\-Fault}]{\setlength{\rightskip}{0pt plus 5cm}virtual {\bf e\-P\-R\-Status} {\bf c\-P\-R\-Policy\-::resolve\-Page\-Fault} (
\begin{DoxyParamCaption}
\item[{{\bf s\-Proc} $\ast$}]{proc, }
\item[{uint32\-\_\-t}]{page}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}pure virtual\mbox{]}}}}\label{d7/df0/classcPRPolicy_aae8a15e6e99ec90d54210fc4d4ddf211}
\-If a free one is available from the frame allocator it will be used. \-Otherwise, a page will have to be spilled.


\begin{DoxyParams}{\-Parameters}
{\em s\-Proc$\ast$} & \-A pointer to the process that the frame is being requested for.\\
\hline
{\em uint32\-\_\-t} & page \-The page for the given process that needs to be fetched. \\
\hline
\end{DoxyParams}


\-Implemented in \hyperlink{classcPRLru_aab495ba087dfd717fd9908fb138069bc}{c\-P\-R\-Lru}, \hyperlink{classcPRLruApprox_adc2d729279fec03798c9027c87af7c84}{c\-P\-R\-Lru\-Approx}, and \hyperlink{classcPRFifo_a8121128a2dac3c8194c044e81fa0e5fc}{c\-P\-R\-Fifo}.



\-Referenced by c\-V\-M\-M\-::start().

\hypertarget{classcPRPolicy_ac78fc5c56b8f485eb18f6f36968612f1}{\index{c\-P\-R\-Policy@{c\-P\-R\-Policy}!return\-Frame@{return\-Frame}}
\index{return\-Frame@{return\-Frame}!cPRPolicy@{c\-P\-R\-Policy}}
\subsubsection[{return\-Frame}]{\setlength{\rightskip}{0pt plus 5cm}{\bf c\-P\-R\-Policy\-::return\-Frame} (
\begin{DoxyParamCaption}
\item[{uint32\-\_\-t}]{frame}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}pure virtual\mbox{]}}}}\label{d7/df0/classcPRPolicy_ac78fc5c56b8f485eb18f6f36968612f1}
\-This is called when a process exits and its frames are being returned to the system. \-This is usually a wrapper to the \-F\-A policy return frame function but it gives the \-P\-R module a chance to update its datastructures if necessary.

\-Since we have made the assumption that this is only called on process exit, it is not necessary to do any \-I/\-O on the page.


\begin{DoxyParams}{\-Parameters}
{\em uint32\-\_\-t} & \-Number of the frame to clear/return. \\
\hline
\end{DoxyParams}


\-Implemented in \hyperlink{classcPRLru_a50542682b40a9a5fc48506a347e70c53}{c\-P\-R\-Lru}, \hyperlink{classcPRLruApprox_a5cc1b3cbc08b1ef334eb37138ff95c43}{c\-P\-R\-Lru\-Approx}, and \hyperlink{classcPRFifo_a8155953bcbd7a0799d07a8228dc0e80c}{c\-P\-R\-Fifo}.



\-Referenced by c\-V\-M\-M\-::cleanup\-Process().



\-The documentation for this class was generated from the following files\-:\begin{DoxyCompactItemize}
\item 
include/\-Policy/\hyperlink{pageReplace_8h}{page\-Replace.\-h}\item 
src/\-Policy/page\-Replace.\-cpp\end{DoxyCompactItemize}
