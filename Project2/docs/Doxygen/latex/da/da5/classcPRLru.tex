\hypertarget{classcPRLru}{\section{c\-P\-R\-Lru \-Class \-Reference}
\label{da/da5/classcPRLru}\index{c\-P\-R\-Lru@{c\-P\-R\-Lru}}
}


\-Inheritance diagram for c\-P\-R\-Lru\-:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=142pt]{d9/da4/classcPRLru__inherit__graph}
\end{center}
\end{figure}


\-Collaboration diagram for c\-P\-R\-Lru\-:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{da/d0b/classcPRLru__coll__graph}
\end{center}
\end{figure}
\subsection*{\-Public \-Member \-Functions}
\begin{DoxyCompactItemize}
\item 
\hypertarget{classcPRLru_a483b47a8f7a83e63fb4a7d02d1b1ba91}{{\bfseries c\-P\-R\-Lru} (\hyperlink{classcFrameAllocPolicy}{c\-Frame\-Alloc\-Policy} \&\-\_\-\-F\-A\-Policy)}\label{da/da5/classcPRLru_a483b47a8f7a83e63fb4a7d02d1b1ba91}

\item 
const char $\ast$ \hyperlink{classcPRLru_aec12730888e052c697b43ed8aca4b8a6}{name} ()
\begin{DoxyCompactList}\small\item\em \-Name of \-P\-R module. \end{DoxyCompactList}\item 
\hyperlink{pageReplace_8h_af4bc4c41a44c2bd80e8cbf1aae370217}{e\-P\-R\-Status} \hyperlink{classcPRLru_aab495ba087dfd717fd9908fb138069bc}{resolve\-Page\-Fault} (\hyperlink{structsProc}{s\-Proc} $\ast$proc, uint32\-\_\-t page)
\begin{DoxyCompactList}\small\item\em \-If no frames are free, spill the frame that has the lowest timestamp, or was "least recently used. \end{DoxyCompactList}\item 
\hypertarget{classcPRLru_a9e0bb304978dddc8342a5b9445c091b6}{void \hyperlink{classcPRLru_a9e0bb304978dddc8342a5b9445c091b6}{finished\-Quanta} (\hyperlink{structsProc}{s\-Proc} $\ast$proc)}\label{da/da5/classcPRLru_a9e0bb304978dddc8342a5b9445c091b6}

\begin{DoxyCompactList}\small\item\em \-Since all the times are set in software, this method does nothing. \end{DoxyCompactList}\item 
\hypertarget{classcPRLru_a003230ac7e50911cfa74808ffeefa658}{void \hyperlink{classcPRLru_a003230ac7e50911cfa74808ffeefa658}{finished\-I\-O} (\hyperlink{structsProc}{s\-Proc} $\ast$proc, \hyperlink{structsPTE}{s\-P\-T\-E} $\ast$page)}\label{da/da5/classcPRLru_a003230ac7e50911cfa74808ffeefa658}

\begin{DoxyCompactList}\small\item\em \-Add the \-P\-T\-E to the page\-Hist to keep track of which frames have been given out. \end{DoxyCompactList}\item 
\hypertarget{classcPRLru_ae74d5e116ffad469d9f6417034f4b0d6}{bool \hyperlink{classcPRLru_ae74d5e116ffad469d9f6417034f4b0d6}{clear\-Pages} (int num\-Pages)}\label{da/da5/classcPRLru_ae74d5e116ffad469d9f6417034f4b0d6}

\begin{DoxyCompactList}\small\item\em \-Sorts page\-Hist by timestamp (increasing order) then removes num\-Pages from the front of the list. \end{DoxyCompactList}\item 
\hypertarget{classcPRLru_a6ab14eaa8e52cf40ca9921bad685d1d2}{void \hyperlink{classcPRLru_a6ab14eaa8e52cf40ca9921bad685d1d2}{unpin\-Frame} (uint32\-\_\-t frame)}\label{da/da5/classcPRLru_a6ab14eaa8e52cf40ca9921bad685d1d2}

\begin{DoxyCompactList}\small\item\em \-This is typically called after \-::finished\-I\-O so that the \-P\-R module unpins the frame in the frame allocation module. \end{DoxyCompactList}\item 
void \hyperlink{classcPRLru_a9ab0ecc8f28bb2643bfe06cc11f4abb7}{print\-Timestamps} ()
\begin{DoxyCompactList}\small\item\em \-Used for debugging purposes. \end{DoxyCompactList}\item 
void \hyperlink{classcPRLru_a50542682b40a9a5fc48506a347e70c53}{return\-Frame} (uint32\-\_\-t frame)
\begin{DoxyCompactList}\small\item\em \-Return a frame to the system. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{\-Private \-Member \-Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{structsPTEOwner}{s\-P\-T\-E\-Owner} $\ast$ \hyperlink{classcPRLru_a87be0bcf2c296b41d66f3a419d53fa98}{get\-P\-T\-E\-Owner} ()
\begin{DoxyCompactList}\small\item\em \-Get a struct for holding both the \-P\-T\-E and \-Owner. \end{DoxyCompactList}\item 
\hypertarget{classcPRLru_a892e3d84ca361766506ed3615d3dddd8}{void \hyperlink{classcPRLru_a892e3d84ca361766506ed3615d3dddd8}{return\-P\-T\-E\-Owner} (\hyperlink{structsPTEOwner}{s\-P\-T\-E\-Owner} $\ast$pte\-Owner)}\label{da/da5/classcPRLru_a892e3d84ca361766506ed3615d3dddd8}

\begin{DoxyCompactList}\small\item\em \-Add a \-P\-T\-E\-Owner to the pteowner\-\_\-cache to use later. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{\-Private \-Attributes}
\begin{DoxyCompactItemize}
\item 
\hypertarget{classcPRLru_aecc5ad74db574fe06501fad7eeb930a2}{list$<$ \hyperlink{structsPTEOwner}{s\-P\-T\-E\-Owner} $\ast$ $>$ {\bfseries page\-Hist}}\label{da/da5/classcPRLru_aecc5ad74db574fe06501fad7eeb930a2}

\item 
\hypertarget{classcPRLru_a790a6f44fd2d54b5580acf624604bee6}{queue$<$ \hyperlink{structsPTEOwner}{s\-P\-T\-E\-Owner} $\ast$ $>$ {\bfseries pteowner\-\_\-cache}}\label{da/da5/classcPRLru_a790a6f44fd2d54b5580acf624604bee6}

\item 
\hypertarget{classcPRLru_a55b7edeffaf80911b7b3aba7aa422b83}{\hyperlink{classcFrameAllocPolicy}{c\-Frame\-Alloc\-Policy} \& {\bfseries \-F\-A\-Policy}}\label{da/da5/classcPRLru_a55b7edeffaf80911b7b3aba7aa422b83}

\item 
\hypertarget{classcPRLru_a04cbd077d45c2183f6d61dde9f03ad14}{uint32\-\_\-t {\bfseries \-P\-T\-Size}}\label{da/da5/classcPRLru_a04cbd077d45c2183f6d61dde9f03ad14}

\end{DoxyCompactItemize}


\subsection{\-Member \-Function \-Documentation}
\hypertarget{classcPRLru_a87be0bcf2c296b41d66f3a419d53fa98}{\index{c\-P\-R\-Lru@{c\-P\-R\-Lru}!get\-P\-T\-E\-Owner@{get\-P\-T\-E\-Owner}}
\index{get\-P\-T\-E\-Owner@{get\-P\-T\-E\-Owner}!cPRLru@{c\-P\-R\-Lru}}
\subsubsection[{get\-P\-T\-E\-Owner}]{\setlength{\rightskip}{0pt plus 5cm}{\bf s\-P\-T\-E\-Owner} $\ast$ {\bf c\-P\-R\-Lru\-::get\-P\-T\-E\-Owner} (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}\label{da/da5/classcPRLru_a87be0bcf2c296b41d66f3a419d53fa98}
\-If the pteowner\-\_\-cache has an entry, re-\/use it. \-Otherwise malloc a new one. \-This helps with heap performance. 

\-Referenced by finished\-I\-O().

\hypertarget{classcPRLru_aec12730888e052c697b43ed8aca4b8a6}{\index{c\-P\-R\-Lru@{c\-P\-R\-Lru}!name@{name}}
\index{name@{name}!cPRLru@{c\-P\-R\-Lru}}
\subsubsection[{name}]{\setlength{\rightskip}{0pt plus 5cm}const char$\ast$ {\bf c\-P\-R\-Lru\-::name} (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}inline, virtual\mbox{]}}}}\label{da/da5/classcPRLru_aec12730888e052c697b43ed8aca4b8a6}
\-This is only used for logging purposes so that the \-P\-R module can be easily identified. 

\-Implements \hyperlink{classcPRPolicy_ad0de8c0c77f8d2ecb1f5679f0c25b5be}{c\-P\-R\-Policy}.

\hypertarget{classcPRLru_a9ab0ecc8f28bb2643bfe06cc11f4abb7}{\index{c\-P\-R\-Lru@{c\-P\-R\-Lru}!print\-Timestamps@{print\-Timestamps}}
\index{print\-Timestamps@{print\-Timestamps}!cPRLru@{c\-P\-R\-Lru}}
\subsubsection[{print\-Timestamps}]{\setlength{\rightskip}{0pt plus 5cm}void {\bf c\-P\-R\-Lru\-::print\-Timestamps} (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{da/da5/classcPRLru_a9ab0ecc8f28bb2643bfe06cc11f4abb7}
\-Prints all of the timestamps in the page\-Hist list. \hypertarget{classcPRLru_aab495ba087dfd717fd9908fb138069bc}{\index{c\-P\-R\-Lru@{c\-P\-R\-Lru}!resolve\-Page\-Fault@{resolve\-Page\-Fault}}
\index{resolve\-Page\-Fault@{resolve\-Page\-Fault}!cPRLru@{c\-P\-R\-Lru}}
\subsubsection[{resolve\-Page\-Fault}]{\setlength{\rightskip}{0pt plus 5cm}{\bf e\-P\-R\-Status} {\bf c\-P\-R\-Lru\-::resolve\-Page\-Fault} (
\begin{DoxyParamCaption}
\item[{{\bf s\-Proc} $\ast$}]{proc, }
\item[{uint32\-\_\-t}]{page}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}virtual\mbox{]}}}}\label{da/da5/classcPRLru_aab495ba087dfd717fd9908fb138069bc}
" 

\-Implements \hyperlink{classcPRPolicy_aae8a15e6e99ec90d54210fc4d4ddf211}{c\-P\-R\-Policy}.

\hypertarget{classcPRLru_a50542682b40a9a5fc48506a347e70c53}{\index{c\-P\-R\-Lru@{c\-P\-R\-Lru}!return\-Frame@{return\-Frame}}
\index{return\-Frame@{return\-Frame}!cPRLru@{c\-P\-R\-Lru}}
\subsubsection[{return\-Frame}]{\setlength{\rightskip}{0pt plus 5cm}void {\bf c\-P\-R\-Lru\-::return\-Frame} (
\begin{DoxyParamCaption}
\item[{uint32\-\_\-t}]{frame}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}virtual\mbox{]}}}}\label{da/da5/classcPRLru_a50542682b40a9a5fc48506a347e70c53}
\-The \-V\-M\-M core calls this when a process termintates to free up any of its used frames. \-This call could be made directly to the frame allocator but using the \-P\-R module as a middle man gives it a chance to update as needed. 

\-Implements \hyperlink{classcPRPolicy_ac78fc5c56b8f485eb18f6f36968612f1}{c\-P\-R\-Policy}.



\-The documentation for this class was generated from the following files\-:\begin{DoxyCompactItemize}
\item 
include/\-Policy/pr\-\_\-lru.\-h\item 
src/\-Policy/pr\-\_\-lru.\-cpp\end{DoxyCompactItemize}
